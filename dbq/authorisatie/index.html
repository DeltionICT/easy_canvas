<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy Canvas | Authorisatie</title>
    <link rel="manifest" href="/easy_canvas/manifest.json">
    <link href="/easy_canvas/_css/deltion.css" rel="stylesheet">
    <link href="/easy_canvas/_css/prism-one-light.css" rel="stylesheet">
    <link href="/easy_canvas/_css/extra.css" rel="stylesheet">
</head>

<body>
<div class="page_wrapper">
    
<div class="deltionv2-center-template">
    <div class="deltionv2-template-container">
        <section class="deltionv2-addbanner">
            <div class="deltionv2-addcontent">
                <div class="deltionv2-addcontent-header">
                    <h2>Werken met databases</h2>
                </div>
                <div class="deltionv2-addcontent-header">
                    
                        <a href="/easy_canvas/dbq/introductie/">Introductie</a>
                    
                        <a href="/easy_canvas/dbq/leerdoelen/">Leerdoelen</a>
                    
                        <a href="/easy_canvas/dbq/installatie/">Installatie</a>
                    
                        <a href="/easy_canvas/dbq/authorisatie/" aria-current="page" data-state="active">Authorisatie</a>
                    
                        <a href="/easy_canvas/dbq/eenvoudige-queries/">Eenvoudige queries</a>
                    
                        <a href="/easy_canvas/dbq/gegevens-filteren/">Gegevens filteren</a>
                    
                        <a href="/easy_canvas/dbq/crud/">CRUD</a>
                    
                        <a href="/easy_canvas/dbq/database-maken/">Database maken</a>
                    
                </div>
            </div>
        </section>
         <div class="deltionv2-content-section">
            <section class="deltionv2-textarea">
                
                <div class="deltionv2-text">
                
                <h1 id="top">Werken met databases</h1>
                <h3>Authorisatie</h3>
                <div id="inhoudsopgave">
                <b>Inhoudsopgave</b>
                <div class="toc">
        <ul><li><a href="#configureer-een-super-user">Configureer een super-user</a></li><li><a href="#authorisatie">Authorisatie</a></li><li><a href="#configureer-een-gebruiker-die-alleen-gegevens-kan-weergeven">Configureer een gebruiker die alleen gegevens kan weergeven</a></li><li><a href="#cheatsheet-postgresql">Cheatsheet Postgresql</a></li><li><a href="#vragen-en-opdrachten">Vragen en opdrachten</a></li></ul>
      </div>
                </div>
                <h1 id="werken-met-databases">Werken met databases</h1>
<h2 id="authorisatie">Authorisatie</h2>
<p>Tijdens het ontwikkelen van een database wil je als developer graag toegang hebben tot alle mogelijkheden, functionaliteiten en data van je database-server. Je gebruikt hiervoor een account dat alle rechten heeft om aanpassingen te doen aan de database server.</p>
<h4 id="configureer-een-super-user">Configureer een super-user</h4>
<p>In MariaDB gaat dat als volgt:</p>
<ul>
<li>Open PHPMyAdmin en log in met een bestaande gebruiker die de rechten heeft om gebruikers te beheren (bijvoorbeeld de rootgebruiker).</li>
<li>Ga naar <a href="https://docs.phpmyadmin.net/nl/latest/privileges.html">PHPMyAdmin documentatie -&gt; User management</a></li>
</ul>
<p>In Postgres gaat dat zo:</p>
<ul>
<li>Open Adminer en log in als superuser</li>
<li>Voeg een sql-commando in:</li>
</ul>
<pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> ROLE student <span class="token keyword">WITH</span> LOGIN PASSWORD <span class="token string">'student'</span> SUPERUSER<span class="token punctuation">;</span></code></pre>
<p>Je hebt nu een superuser aangemaakt waarmee je alle rechten hebt om databases aan te maken en te bewerken.</p>
<h4 id="configureer-een-gebruiker-die-alleen-gegevens-kan-weergeven">Configureer een gebruiker die alleen gegevens kan weergeven</h4>
<p>In MariaDB:</p>
<ul>
<li>Dat kan via het user-panel in PHPMyAdmin of via sql-commando's</li>
<li><code>CREATE USER 'my_user'@'localhost' IDENTIFIED BY 'password'</code></li>
<li><code>GRANT SELECT ON '*.my_database' TO 'my_user@localhost'</code></li>
</ul>
<p>In Postgres:</p>
<ul>
<li>Via sql venster in Adminer</li>
<li><code>CREATE USER my_user WITH PASSWORD 'secret';</code></li>
<li><code>GRANT CONNECT ON DATABASE school TO my_user;</code></li>
<li><code>GRANT USAGE ON SCHEMA public TO my_user;</code></li>
<li><code>GRANT SELECT ON ALL TABLES IN SCHEMA public TO my_user;</code>
my_user kan nu uit alle tabellen van de database <code>school</code> gegevens weergeven.</li>
</ul>
<h2 id="cheatsheet-postgresql">Cheatsheet Postgresql</h2>
<table style="border-collapse:collapse; border:1px black solid;">
<thead>
<tr>
<th>Option</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="border: 1px solid black; padding:4px">[-d] <database></database></td>
<td style="border: 1px solid black; padding:4px">psql -d mydb</td>
<td style="border: 1px solid black; padding:4px">Connecting to database</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-U</td>
<td style="border: 1px solid black; padding:4px">psql -U john mydb</td>
<td style="border: 1px solid black; padding:4px">Connecting as a specific user</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-h -p</td>
<td style="border: 1px solid black; padding:4px">psql -h localhost -p 5432 mydb</td>
<td style="border: 1px solid black; padding:4px">Connecting to a host/port</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-U -h -p -d</td>
<td style="border: 1px solid black; padding:4px">psql -U admin -h 192.168.1.5 -p 2506 -d mydb</td>
<td style="border: 1px solid black; padding:4px">Connect remote PostgreSQL</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-W</td>
<td style="border: 1px solid black; padding:4px">psql -W mydb</td>
<td style="border: 1px solid black; padding:4px">Force password</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-c</td>
<td style="border: 1px solid black; padding:4px">psql -c '\c postgres' -c '\dt'</td>
<td style="border: 1px solid black; padding:4px">Execute a SQL query or command</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-H</td>
<td style="border: 1px solid black; padding:4px">psql -c &quot;\l+&quot; -H postgres &gt; database.html</td>
<td style="border: 1px solid black; padding:4px">Generate HTML report</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-l</td>
<td style="border: 1px solid black; padding:4px">psql -l</td>
<td style="border: 1px solid black; padding:4px">List all databases</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-f</td>
<td style="border: 1px solid black; padding:4px">psql mydb -f file.sql</td>
<td style="border: 1px solid black; padding:4px">Execute commands from a file</td>
</tr>
<tr>
<td style="border: 1px solid black; padding:4px">-V</td>
<td style="border: 1px solid black; padding:4px">psql -V</td>
<td style="border: 1px solid black; padding:4px">Print the psql version</td>
</tr>
</tbody>
</table>
<h2 id="vragen-en-opdrachten">Vragen en opdrachten</h2>
<p><strong>Basisvragen</strong></p>
<ul>
<li>Wat is het verschil tussen een gebruiker en een rol?</li>
<li>Welke SQL-opdracht gebruik je om een nieuwe gebruiker aan te maken in MariaDB?</li>
<li>Welke SQL-opdracht gebruik je om een gebruiker een wachtwoord te geven in PostgreSQL?</li>
</ul>
<p><strong>Praktische vragen</strong></p>
<ul>
<li>CreÃ«er een gebruiker genaamd <code>webshop_admin</code> die alleen vanaf de lokale machine (localhost) verbinding mag maken, met een wachtwoord naar keuze.</li>
<li>Stel je voor dat de gebruiker <code>webshop_admin</code> ook een database mag aanmaken. Welke <code>GRANT</code>-opdracht moet je daarvoor gebruiken?</li>
<li>Wat is het verschil tussen <code>GRANT ALL PRIVILEGES</code> en het geven van specifieke privileges, zoals <code>CREATE</code> of <code>SELECT</code>?</li>
</ul>
<p><strong>Diepere kennis</strong></p>
<ul>
<li>Welk risico loop je als je een gebruiker aanmaakt zonder <code>WITH GRANT OPTION</code>?</li>
<li>Stel, je hebt een gebruiker gemaakt met de naam <code>api_gebruiker</code> en je wilt dat deze gebruiker alleen <code>SELECT</code>-rechten heeft op de tabel <code>producten</code> in de database <code>webshop</code>. Welke SQL-opdracht(en) gebruik je hiervoor in PostgreSQL?</li>
<li>Hoe gaat dit in MariaDB?</li>
<li>Een gebruiker klaagt dat hij geen verbinding kan maken. Je weet zeker dat het wachtwoord klopt. Welke twee meest voorkomende oorzaken kunnen dit probleem veroorzaken?</li>
</ul>



                </div>
            </section>
        </div>
    </div>
</div>


</div>
<script>
    if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register("/easy_canvas/service-worker.js")
      .then(registration => {
        console.log('Service Worker geregistreerd met succes:', registration.scope);
      })
      .catch(err => {
        console.log('Registratie van Service Worker mislukt:', err);
      });
  });
}
</script>
</body>
</html>